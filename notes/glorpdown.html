<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The dawn of glorp</title>
    <link rel="icon" type="image/x-icon" href="./../assets/icon.png">
    <link rel="stylesheet" href="./../style.css">
  </head>
  <body class="page"><p><a href="./../index.html">Index</a></p><p><time>2022-12-06</time></p><h1>The dawn of glorp</h1><p>I think Einar said that if you want to blog you should write blog posts, not write blog engine. At least sometimes people say something like that.</p><p><a href="https://einarwh.wordpress.com/">Einar uses WordPress.</a><br><a href="https://einarwh.wordpress.com/2011/05/12/the-indispensable-idisposable/">So when Einar writes about weird DSL for writing HTML it is typically <em>not</em> a description of how his blog works.</a></p><p>Anyway it’s a thing that makes sense. So here’s a new home-made markup language for my home-made blog engine.</p><p>I’ve played around with making my own language for this a few times. I like the idea of having something where it’s so easy to implement tooling for it that, if I ever need or want to reimplement it, maybe in a different language/environment, then that won’t be a big deal. Preferably not even much of a factor in deciding if I’m going to move to a different language or something. And also simple enough so that I can write (and read) posts in that format correctly without much help from specialized tools or something.</p><p>I tend to mess up and things tend to get too complicated.</p><h2>Gemtext</h2><p><a href="https://gemini.circumlunar.space/docs/gemtext.gmi">Gemtext</a></p><p>I ran into Gemtext the other day. Gemtext takes a pretty straightforward approach to some things.</p><blockquote><p>You get one kind of list and you can't nest them</p></blockquote><p>Which goes for most things. Like generally you can’t have &lt;thing&gt; within &lt;other thing&gt;. No quote within a list, or link within a heading, or whatever. Or, it’s very line-oriented, and you can’t like, nest lines.</p><p>It’s not too hard to build a Gemtext-parser. It’s also really easy to write Gemtext in any text editor.</p><p>Also it tends to look kind of like my plaintext-notes would look anyway. E.g. I tend to end up with stuff like paragraphs being long lines and use separate lines for links.</p><p>(Also also I like how using a full line for a link tricks me into writing more self-contained link texts (instead of stuff like the link text being “here”). Which I’m told people using screen readers sometimes appreciate.)</p><h2>Glorpdown</h2><p>So I decided to steal ideas from Gemtext and make something with a lot less functionality than what I have attempted previously:</p><p><a href="./../glorpdown.html">A Glorpdown editor.</a><br><a href="./../gd/notes/glorpdown.txt">This post in Glorpdown.</a></p><p>Some basics:</p><ul><li>A line usually goes like &lt;start&gt;&lt;arguments&gt;&lt;text&gt;. The line type (typically determined by the &lt;start&gt; of the line) decides how many (whitespace-separated) arguments there are. E.g. a link (starts with <code>=&gt;</code>) has two arguments, link type and path. A blockquote has no arguments, just a <code>&gt;</code>-start followed by the text that goes in the quote.</li><li>Within the &lt;text&gt; you can format text: Text between <code>_</code>-characters is <em>emphasized</em>. Text between <code>`</code>-characters is <code>code</code>. You can’t nest/combine those things.</li><li>Within the &lt;text&gt; you can escape a character with a <code>\</code>-character. Necessary for escaping formatting characters or for having regular text lines start with the &lt;start&gt; of another line type.</li></ul><p>Most of the things:</p><h3>Regular text/paragraphs</h3><p>More or less like in Gemtext. The &lt;start&gt; of a regular text line is the empty string. Or: If the start of a line does not match the &lt;start&gt; of any of the other line types, it is a regular text. Should be empty lines between paragraphs. Line breaks within paragraphs are preserved when translating to HTML and such.</p><h3>Headings</h3><p>Same as in Gemtext, three levels: Lines that start with <code>#</code>, <code>##</code> or <code>###</code>. E.g. I do this for the following heading:</p><figure><pre><code>### Blockquotes</code></pre></figure><h3>Blockquotes</h3><p>Same as in Gemtext: Lines that start with <code>&gt;</code></p><figure><pre><code>&gt; Hello.</code></pre></figure><blockquote><p>Hello.</p></blockquote><h3>Lists</h3><p>Same as in Gemtext: Lines that start with <code>*</code> are list items.</p><figure><pre><code>* Item one
* Item two</code></pre></figure><ul><li>Item one</li><li>Item two</li></ul><h3>Linky bits</h3><p>Regular links are similar to the ones in Gemtext, but with a “type” argument before the path/url:</p><figure><pre><code>=&gt; url https://placekitten.com/ Kittens</code></pre></figure><p><a href="https://placekitten.com/">Kittens</a></p><p>Unlike in Gemtext there’s a different line type for stuff that should be included in, or viewed in context of, the document. Typically images:</p><figure><pre><code>&lt;= img https://placekitten.com/200/300 A kitten!</code></pre></figure><figure><a href="https://placekitten.com/200/300"><img src="https://placekitten.com/200/300"></a><figcaption>A kitten!</figcaption></figure><p>(In my mind the way this makes sense is that the <code>=&gt;</code>-arrow points to some thing that you can go to, while the <code>&lt;=</code>-arrow is more like, the thing is moving into the current document.)</p><h3>Preformatted text</h3><p>Same as in Gemtext, preformatted text is turned on by a line that starts with <code>```</code>. Not like in Gemtext, any non-whitespace characters directly after the <code>```</code> are considered part of the &lt;start&gt; and must be matched by the start of a later line to turn it off again (so you can e.g. do four backticks for the &lt;start&gt; if you want to have a line of preformatted text start with three backticks without that being a “turn off the preformatted text”-line). No line types or text formatting or escaping characters within preformatted text.</p><p>So:</p><figure><pre><code>````
code here
```
not turned off yet so things are still code
````</code></pre></figure><p>Becomes:</p><figure><pre><code>code here
```
not turned off yet so things are still code</code></pre></figure><p>In Gemtext you can write some stuff after the &lt;start&gt; of a line that turns preformatted text <em>on</em> and have that be “alt text.” In Glorpdown this text is instead potentially used when rendering. E.g. for marking some preformatted text as a “repl,” so that later code can turn it into a editable textare or something.</p><p>If there’s text after the &lt;start&gt; of a line that turns preformatted text <em>off</em>, then that’s used as a caption for the preformatted text.</p><h3>Lines</h3><p>A section of preformatted text where the text after the &lt;start&gt; if the line that turns it on goes like <code>lines &lt;w h&gt;</code>.</p><p><a href="./lines.html">More lines-stuff, including an editor.</a></p><figure><pre><code>``` lines 40 36
t 33 5 oh no
l 20 14 19 8 11 8 10 14 3 18 4 21 10 20 9 31 12 31 15 24 17 30 21 31 19 20 25 21 25 17 20 14
l 13 10 13 11
l 17 10 17 11
l 14 14 16 14
l 23 11 29 8
```</code></pre></figure><figure><svg width="10em" height="9em"><style>svg {stroke: currentColor;fill: none;}text {stroke: none;dominant-baseline: middle;text-anchor: middle;fill: currentColor;}</style><text x="82.5%" y="13.88888888888889%">oh no</text>
<line x1="50%" y1="38.888888888888886%" x2="47.5%" y2="22.22222222222222%" /><line x1="47.5%" y1="22.22222222222222%" x2="27.5%" y2="22.22222222222222%" /><line x1="27.5%" y1="22.22222222222222%" x2="25%" y2="38.888888888888886%" /><line x1="25%" y1="38.888888888888886%" x2="7.5%" y2="50%" /><line x1="7.5%" y1="50%" x2="10%" y2="58.33333333333333%" /><line x1="10%" y1="58.33333333333333%" x2="25%" y2="55.55555555555556%" /><line x1="25%" y1="55.55555555555556%" x2="22.5%" y2="86.11111111111111%" /><line x1="22.5%" y1="86.11111111111111%" x2="30%" y2="86.11111111111111%" /><line x1="30%" y1="86.11111111111111%" x2="37.5%" y2="66.66666666666666%" /><line x1="37.5%" y1="66.66666666666666%" x2="42.5%" y2="83.33333333333333%" /><line x1="42.5%" y1="83.33333333333333%" x2="52.5%" y2="86.11111111111111%" /><line x1="52.5%" y1="86.11111111111111%" x2="47.5%" y2="55.55555555555556%" /><line x1="47.5%" y1="55.55555555555556%" x2="62.5%" y2="58.33333333333333%" /><line x1="62.5%" y1="58.33333333333333%" x2="62.5%" y2="47.22222222222222%" /><line x1="62.5%" y1="47.22222222222222%" x2="50%" y2="38.888888888888886%" />
<line x1="32.5%" y1="27.77777777777778%" x2="32.5%" y2="30.555555555555554%" />
<line x1="42.5%" y1="27.77777777777778%" x2="42.5%" y2="30.555555555555554%" />
<line x1="35%" y1="38.888888888888886%" x2="40%" y2="38.888888888888886%" />
<line x1="57.5%" y1="30.555555555555554%" x2="72.5%" y2="22.22222222222222%" /></svg></figure><h3>Details</h3><p>Not in gemtext. This it “toggled,” kind of like with the preformatted text. Lines that start with <code>+++</code>. The text after the first <code>+++</code> becomes the summary. The content between a first and second <code>+++</code>-line is details (the stuff you see if you click to expand or something).</p><figure><pre><code>+++ Things
* One thing
* Another thing
* A third thing
+++</code></pre></figure><details><summary>Things</summary><ul><li>One thing</li><li>Another thing</li><li>A third thing</li></ul></details><h3>Key-value pairs</h3><p>Not at all in Gemtext. Mostly for metadata. Lines that start with <code>:</code> are key-value lines. If a line goes <code>:&lt;argument&gt; &lt;text&gt;</code> then &lt;argument&gt; is the key and &lt;text&gt; is the value. E.g. this post has a line that goes:</p><figure><pre><code>:date 2022-12-06</code></pre></figure><p>And then I have some blogging machinery that uses that date for displaying list of posts with their dates.</p><h3>Horizontal rule/thematic change</h3><p>Not in Gemtext. Lines that start with <code>----</code></p><figure><pre><code>----</code></pre></figure><hr><p>Blah blah. That’s mostly it.</p></body>
</html>
