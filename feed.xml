<?xml version="1.0"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Llama the ultimate</title>
    <atom:link href="https://llama-the-ultimate.org/feed.xml" rel="self" type="application/rss+xml" />
    <link>https://llama-the-ultimate.org</link>
    <description>A blog with some stuff in it.</description>
    <language>en</language>
    <image>
      <url>https://llama-the-ultimate.org/assets/icon.png</url>
      <title>Llama the ultimate</title>
      <link>https://llama-the-ultimate.org</link>
    </image>
    <item>
      <title>Briefcases and libraries</title>
      <link>https://llama-the-ultimate.org/notes/briefcase-lib.html</link>
      <description>Devs should use more microfiche.</description>
      <pubDate>Wed, 25 Jan 2023 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/briefcase-lib.html</guid>
      <content:encoded><![CDATA[<h1>Briefcases and libraries</h1><blockquote>Each of these projects contributed its own lessons, tools and techniques. Moore carried microfiche listings of all previous projects in his briefcase, and often referred to them to get the code for some unique primitive or driver from the past. Frequently used words might become a standard fixture of the system. Also, improved techniques for solving common problems were integrated into the system.</blockquote><p><a href="https://llama-the-ultimate.orghttps://www.forth.com/resources/forth-programming-language/">The Evolution of Forth</a></p><p>A thing I like about Chuck Moore‚Äôs briefcase is that ‚Äúbriefcase‚Äù kind of sounds like it could be a metaphor of the same kind as ‚Äúlibrary.‚Äù Clearly more personal and less ‚Äúpublished works‚Äù than a library, but you can have some pretty of useful stuff there. Maybe sets of ideas/‚Äúpatterns‚Äù, tricks and techniques and ways of thinking about things. Not necessarily complete and final solutions but like, things you bring along with you because they‚Äôve worked for you.</p>]]></content:encoded>
    </item>
    <item>
      <title>The dawn of glorp</title>
      <link>https://llama-the-ultimate.org/notes/glorpdown.html</link>
      <description>Smol markup language for blog.</description>
      <pubDate>Tue, 06 Dec 2022 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/glorpdown.html</guid>
      <content:encoded><![CDATA[<h1>The dawn of glorp</h1><p>I think Einar said that if you want to blog you should write blog posts, not write blog engine. At least sometimes people say something like that.</p><ul><li><a href="https://llama-the-ultimate.orghttps://einarwh.wordpress.com/">Einar uses WordPress.</a></li><li><a href="https://llama-the-ultimate.orghttps://einarwh.wordpress.com/2011/05/12/the-indispensable-idisposable/">So when Einar writes about weird DSL for writing HTML it is typically <em>not</em> a description of how his blog works.</a></li></ul><p>Anyway it‚Äôs a thing that makes sense. So here‚Äôs a new home-made markup language for my home-made blog engine.</p><p>I‚Äôve played around with making my own language for this a few times. I like the idea of having something where it‚Äôs so easy to implement tooling for it that, if I ever need or want to reimplement it, maybe in a different language/environment, then that won‚Äôt be a big deal. Preferably not even much of a factor in deciding if I‚Äôm going to move to a different language or something. And also simple enough so that I can write (and read) posts in that format correctly without much help from specialized tools or something.</p><p>I tend to mess up and things tend to get too complicated.</p><h2>Gemtext</h2><p><a href="https://llama-the-ultimate.orghttps://gemini.circumlunar.space/docs/gemtext.gmi">Gemtext</a></p><p>I ran into Gemtext the other day. Gemtext takes a pretty straightforward approach to some things.</p><blockquote>You get one kind of list and you can't nest them</blockquote><p>Which goes for most things. Like generally you can‚Äôt have &lt;thing&gt; within &lt;other thing&gt;. No quote within a list, or link within a heading, or whatever. Or, it‚Äôs very line-oriented, and you can‚Äôt like, nest lines.</p><p>It‚Äôs not too hard to build a Gemtext-parser. It‚Äôs also really easy to write Gemtext in any text editor.</p><p>Also it tends to look kind of like my plaintext-notes would look anyway. E.g. I tend to end up with stuff like paragraphs being long lines and use separate lines for links.</p><p>(Also also I like how using a full line for a link tricks me into writing more self-contained link texts (instead of stuff like the link text being ‚Äúhere‚Äù). Which I‚Äôm told people using screen readers sometimes appreciate.)</p><h2>Glorpdown</h2><p>So I decided to steal ideas from Gemtext and make something with a lot less functionality than what I have attempted previously:</p><ul><li><a href="https://llama-the-ultimate.org/glorpdown.html">A Glorpdown editor.</a></li><li><a href="https://llama-the-ultimate.org/gd/notes/glorpdown.txt">This post in Glorpdown.</a></li></ul><p>Some basics:</p><ul><li>A line usually goes like &lt;start&gt;&lt;arguments&gt;&lt;text&gt;. The line type (typically determined by the &lt;start&gt; of the line) decides how many (whitespace-separated) arguments there are. E.g. a link (starts with <code>=&gt;</code>) has two arguments, link type and path. A blockquote has no arguments, just a <code>&gt;</code>-start followed by the text that goes in the quote.</li><li>Within the &lt;text&gt; you can format text: Text between <code>_</code>-characters is <em>emphasized</em>. Text between <code>`</code>-characters is <code>code</code>. You can‚Äôt nest/combine those things.</li><li>Within the &lt;text&gt; you can escape a character with a <code>\</code>-character. Necessary for escaping formatting characters or for having regular text lines start with the &lt;start&gt; of another line type.</li></ul><p>Most of the things:</p><h3>Regular text/paragraphs</h3><p>More or less like in Gemtext. The &lt;start&gt; of a regular text line is the empty string. Or: If the start of a line does not match the &lt;start&gt; of any of the other line types, it is a regular text. Should be empty lines between paragraphs. Line breaks within paragraphs are preserved when translating to HTML and such.</p><h3>Headings</h3><p>Same as in Gemtext, three levels: Lines that start with <code>#</code>, <code>##</code> or <code>###</code>. E.g. I do this for the following heading:</p><pre><code>### Blockquotes
</code></pre><h3>Blockquotes</h3><p>Same as in Gemtext: Lines that start with <code>&gt;</code></p><pre><code>&gt; Hello.
</code></pre><blockquote>Hello.</blockquote><h3>Lists</h3><p>Same as in Gemtext: Lines that start with <code>*</code> are list items.</p><pre><code>* Item one
* Item two
</code></pre><ul><li>Item one</li><li>Item two</li></ul><h3>Linky bits</h3><p>Regular links are similar to the ones in Gemtext, but with a ‚Äútype‚Äù argument before the path/url:</p><pre><code>=&gt; url https://placekitten.com/ Kittens
</code></pre><p><a href="https://llama-the-ultimate.orghttps://placekitten.com/">Kittens</a></p><p>Unlike in Gemtext there‚Äôs a different line type for stuff that should be included in, or viewed in context of, the document. Typically images:</p><pre><code>&lt;= img https://placekitten.com/200/300
</code></pre><p><img src="https://llama-the-ultimate.orghttps://placekitten.com/200/300" alt=""></p><p>(In my mind the way this makes sense is that the <code>=&gt;</code>-arrow points to some thing that you can go to, while the <code>&lt;=</code>-arrow is more like, the thing is moving into the current document.)</p><h3>Preformatted text</h3><p>Same as in Gemtext, preformatted text is turned on by a line that starts with <code>```</code>. Not like in Gemtext, any non-whitespace characters directly after the <code>```</code> are considered part of the &lt;start&gt; and must be matched by the start of a later line to turn it off again (so you can e.g. do four backticks for the &lt;start&gt; if you want to have a line of preformatted text start with three backticks without that being a ‚Äúturn off the preformatted text‚Äù-line). No line types or text formatting or escaping characters within preformatted text.</p><p>So:</p><pre><code>````
code here
```
not turned off yet so things are still code
````
</code></pre><p>Becomes:</p><pre><code>code here
```
not turned off yet so things are still code
</code></pre><p>Like in Gemtext you can write some stuff after the &lt;start&gt; of a line that turns preformatted text <em>on</em> and have that be ‚Äúalt text,‚Äù which is sometimes used for stuff.</p><h3>Key-value pairs</h3><p>Not at all in Gemtext. Mostly for metadata. Lines that start with <code>:</code> are key-value lines. If a line goes <code>:&lt;argument&gt; &lt;text&gt;</code> then &lt;argument&gt; is the key and &lt;text&gt; is the value. E.g. this post has a line that goes:</p><pre><code>:date 2022-12-06
</code></pre><p>And then I have some blogging machinery that uses that date for displaying list of posts with their dates.</p><h3>Horizontal rule/thematic change</h3><p>Not in Gemtext. Lines that start with <code>----</code></p><pre><code>----
</code></pre><hr><p>Blah blah. That‚Äôs mostly it.</p>]]></content:encoded>
    </item>
    <item>
      <title>Land of some other order</title>
      <link>https://llama-the-ultimate.org/notes/order.html</link>
      <description>Order of evaluation-stuff.</description>
      <pubDate>Sun, 09 Jun 2019 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/order.html</guid>
      <content:encoded><![CDATA[<h1>Land of some other order</h1><p>We start with</p><pre><code>#lang racket
</code></pre><p>or</p><pre><code>#lang lazy
</code></pre><p>And make some natural and/or unnatural numbers:</p><pre><code>(struct zero () #:transparent)
(struct succ (pred) #:transparent)

(define one (succ (zero)))
(define two (succ one))
(define (inf) (succ (inf)))
</code></pre><p>And a less-than-or-equal-to function:</p><pre><code>(define (&lt;= a b)
  (cond
    [(zero? a) #t]
    [(zero? b) #f]
    [else (&lt;= (succ-pred a) (succ-pred b))]))
</code></pre><p>(<code>&lt;=</code> is a function with parameters <code>a</code> and <code>b</code>: If <code>a</code> is zero then true else if <code>b</code> is zero then false else try with one-less-than-<code>a</code> and one-less-than-<code>b</code> instead.)</p><p>Okay. We can try to apply the function to some arguments. The following are are fine and evaluate to <code>#t</code> and <code>#f</code>.</p><pre><code>(&lt;= one two)

(&lt;= two one)
</code></pre><p>If we started with <code>#lang racket</code> the next two will run forever and we won‚Äôt get values back. If we started with <code>#lang lazy</code> they‚Äôre fine and evaluate to <code>#t</code> and <code>#f</code>.</p><pre><code>(&lt;= two (inf))

(&lt;= (inf) two)
</code></pre><p>The next one will run forever in both <code>#lang racket</code> and <code>#lang lazy</code>.</p><pre><code>(&lt;= (inf) (inf))
</code></pre><p>(Forever means until we are out of memory or something.)</p><p>Anyway. We can choose:</p><ul><li>If we want as many expressions as possible to give back values, we might prefer <code>#lang lazy</code></li><li>If we want as many applications as possible of <code>&lt;=</code> to give back values, we might prefer <code>#lang racket</code></li></ul><p>(In <code>#lang racket</code> the forever happens when evaluating the <code>(inf)</code>-arguments before the <code>&lt;=</code>-function is applied. In <code>#lang lazy</code> we might have to decide: Is it the <code>(inf)</code> or the <code>&lt;=</code> that causes forever? Is it reasonably to expect there to be a base case?)</p>]]></content:encoded>
    </item>
    <item>
      <title>A little JavaScript, a few sums</title>
      <link>https://llama-the-ultimate.org/notes/js-sums.html</link>
      <description>Tagging some unions in JS.</description>
      <pubDate>Sun, 07 Oct 2018 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/js-sums.html</guid>
      <content:encoded><![CDATA[<h1>A little JavaScript, a few sums</h1><ul><li><a href="https://llama-the-ultimate.orghttps://gist.github.com/Glorp/4c7917ad351e1340b07b1cdeb827d62c">Standard ML code</a></li><li><a href="https://llama-the-ultimate.orghttps://gist.github.com/Glorp/fc614dae2d91b79c4c7d4c96785da558">JavaScript code</a></li><li><a href="https://llama-the-ultimate.orghttps://mitpress.mit.edu/books/little-mler">The Little MLer</a></li></ul><p>In chapter 6 of The Little MLer there is some stuff.</p><p>There is <code>fruit</code>:</p><pre><code>datatype fruit =
    Peach
  | Apple
  | Pear
  | Lemon
  | Fig
</code></pre><p>There is <code>tree</code>:</p><pre><code>datatype tree =
    Bud
  | Flat of fruit * tree
  | Split of tree * tree
</code></pre><p>There is height, which looks <em>kind of</em> like this in the book:</p><pre><code>(* height : tree -&gt; int *)
fun height Bud = 0
  | height (Flat(_,  t)) = 1 + height (t)
  | height (Split(s, t)) = 1 + Int.max (height(s), height(t))
</code></pre><p>And some other stuff that we don‚Äôt want for this. Anyway we can make a couple of trees:</p><pre><code>val smol_tree = Split (Bud, Flat (Peach, Bud))
val larger_tree = Split (Flat (Apple, Flat (Lemon, Bud)), Flat (Peach, Bud))
</code></pre><p>And so in a REPL:</p><pre><code>- height smol_tree;
val it = 2 : int

- height larger_tree;
val it = 3 : int
</code></pre><p>Okay.</p><hr><p>So JavaScript is a pretty nonstandard ML.</p><p>In the book we use sums for the tree-stuff. Sums are also sometimes called tagged unions. We will make a <code>tag</code>-function for tagging some stuff:</p><pre><code>const tag = t =&gt; (...args) =&gt; ({ tag: t, values: [...args] });
</code></pre><p>We can try to use it:</p><pre><code>tag(&quot;label&quot;)(1, &quot;horse&quot;, [2,3]);
</code></pre><p>Which gives us: an object</p><pre><code>{
  tag: &quot;label&quot;,
  values: [1, &quot;horse&quot;, [2, 3]],
}
</code></pre><p>It appears to have the tag and the stuff we passed in. Good. We can make constructors then.</p><p>Fruit:</p><pre><code>const Peach = tag(&quot;Peach&quot;)();
const Apple = tag(&quot;Apple&quot;)();
const Pear = tag(&quot;Pear&quot;)();
const Lemon = tag(&quot;Lemon&quot;)();
const Fig = tag(&quot;Fig&quot;)();
</code></pre><p>Tree:</p><pre><code>const Bud = tag(&quot;Bud&quot;)();
const Flat = tag(&quot;Flat&quot;);
const Split = tag(&quot;Split&quot;);
</code></pre><p>(<code>Flat </code>and <code>Split </code>are constructor-functions that need additional stuff when we use them to construct stuff. The other ones are constructors that don‚Äôt need additional stuff, so we have like already passed in the no arguments to those.)</p><p>Now we can make the trees:</p><pre><code>smol_tree = Split(Bud, Flat(Peach, Bud));
const larger_tree = Split(Flat(Apple, Flat(Lemon, Bud)), Flat(Peach, Bud));
</code></pre><p>So we have half the sum stuff now. We can construct. We want destruct.</p><p>Okay with sums it‚Äôs like, in order to construct a value you have to do <em>one of the things</em>. A fruit is a peach <em>or</em> an apple <em>or</em> one of the other ones. In order to construct one we only have to choose one of them.</p><p>But when we‚Äôre going to destruct a value, that value can be any one of the things, so we have to know how to deal with <em>all the things</em>. We have to know what to do if it is a peach <em>and</em> we have to know what to do if it is an apple <em>and</em> so on.</p><p>So if we have a product of all the things, like maybe an object along the lines of:</p><pre><code>{
  Peach: // what to do if it is a peach
  Apple: // what to do if it is an apple
  // and so on...
}
</code></pre><p>Then we can use the tag from the sum-thing to look up the ‚Äúwhat to do‚Äù in the product-thing. We will make a <code>match</code>-function for destructing sums:</p><pre><code>const match = cases =&gt; x =&gt; cases[x.tag](...x.values);
</code></pre><p>We can try to make a function with match:</p><pre><code>const is_apple =
  match(
    {
      Peach: () =&gt; false,
      Apple: () =&gt; true,
      Pear: () =&gt; false,
      Lemon: () =&gt; false,
      Fig: () =&gt; false
    }
  );
</code></pre><p>And then use it:</p><pre><code>is_apple(Apple);
is_apple(Fig);
</code></pre><p>That gives us <code>true</code> and <code>false</code>. Seems fine.</p><p><code>height</code> then:</p><pre><code>const height =
  match(
    {
      Bud: () =&gt; 0,
      Flat: (_, t) =&gt; 1 + height(t),
      Split: (a, b) =&gt; 1 + Math.max(height(a), height(b))
    }
  );
</code></pre><p>Test:</p><pre><code>height(smol_tree);
height(larger_tree);
</code></pre><p>Gives us 2 and 3. Okay.</p>]]></content:encoded>
    </item>
    <item>
      <title>Manifesto for software development</title>
      <link>https://llama-the-ultimate.org/notes/manifesto.html</link>
      <description>I like smol.</description>
      <pubDate>Sat, 06 Oct 2018 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/manifesto.html</guid>
      <content:encoded><![CDATA[<h1>Manifesto for software development</h1><p>Small over large.</p><p>I value the item on the left more.</p>]]></content:encoded>
    </item>
    <item>
      <title>Church encoding is object-orientation</title>
      <link>https://llama-the-ultimate.org/notes/church-oo.html</link>
      <description>Booleans in Smalltalk are extremely Church encoded.</description>
      <pubDate>Sun, 15 Jul 2018 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/church-oo.html</guid>
      <content:encoded><![CDATA[<h1>Church encoding is object-orientation</h1><p>The central idea of traditional object-orientation is that everything is a function. The thing we can do with a function is apply it to an argument. We cannot inspect it, look into how it was constructed. Only apply.</p><p>In a traditional object-oriented language, the argument a function is applied to is a selector-and-arguments-tuple.</p><p>E.g. some Smalltalk:</p><pre><code>3 + 2.
5 negated.
3 to: 10 by: 2.
</code></pre><p>That is:</p><ul><li><code>3</code> applied to the selector <code>+</code> and a list of arguments containing <code>2</code>.</li><li><code>5</code> applied to the selector <code>negated</code> and the empty list of arguments.</li><li><code>3</code> applied to the selector <code>to:by:</code> and a list of arguments containing <code>10</code> and <code>2</code>.</li></ul><p>There are details and there is often some cheating and pragmatism going on somewhere. But the idea is that everything is a function and we cannot ‚Äúlook inside‚Äù a function.</p><p>A number is a function that behaves and responds appropriately when applied to an argument. We do not care how the number is constructed. More precisely, we cannot care how the number is constructed.</p><blockquote>If a function walks like a number and it quacks like a number, then it must be a number.</blockquote><p>‚ÄïAlonzo Church</p><p>(Contrast with more data-oriented languages like those in the extended ML family. Here we tend to define numbers by how they are constructed. ‚ÄúA natural number is zero or the successor of a natural number.‚Äù And when operating on a number we look into how it was constructed and do case analysis (typically by using pattern matching). ‚ÄúIf it is zero, then such and such, if it is the successor of something, then this other thing instead.‚Äù)</p>]]></content:encoded>
    </item>
    <item>
      <title>The 4 types of technical debt</title>
      <link>https://llama-the-ultimate.org/notes/technical-debt.html</link>
      <description>Tech, ni, cal and debt.</description>
      <pubDate>Tue, 19 Jun 2018 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/technical-debt.html</guid>
      <content:encoded><![CDATA[<h1>The 4 types of technical debt</h1><p>I think this title is pretty thought leader because it sounds like fairly assertive and also has a number in it.</p><ul><li>Technical debt</li><li>Not technical debt</li><li>Technical not debt</li><li>Not technical not debt</li></ul>]]></content:encoded>
    </item>
    <item>
      <title>Types of functions</title>
      <link>https://llama-the-ultimate.org/notes/types-of-functions.html</link>
      <description>Functions are sometimes a useful way to think about things.</description>
      <pubDate>Sat, 09 Jun 2018 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/types-of-functions.html</guid>
      <content:encoded><![CDATA[<h1>Types of functions</h1><p>Blah. So functions are fun and for me they are often a useful way to think about programs.</p><p>And then, for me, types more or less come with the territory. A function applied to an argument can be evaluated to a result value. When I think about a function, I tend to think about things like:</p><ul><li>What do arguments I can apply this to look like?</li><li>Which expressions are likely to evaluate to things I can use as arguments?</li><li>What will results I get from applying the function look like?</li><li>Where can I use such results?</li></ul><p>And that is like, type stuff, far as I can tell.</p><p>(Which is not to say that the thinking is necessarily in terms of a type <em>system</em>, or that any of this has a thing to do with type <em>checking</em>, or anything. Just, types, okay yes.)</p>]]></content:encoded>
    </item>
    <item>
      <title>Sculpting in java.time</title>
      <link>https://llama-the-ultimate.org/notes/time.html</link>
      <description>Javadoc!</description>
      <pubDate>Sun, 21 Jan 2018 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/time.html</guid>
      <content:encoded><![CDATA[<h1>Sculpting in java.time</h1><pre><code>public final class Instant
extends Object
implements Temporal, TemporalAdjuster, Comparable&lt;Instant&gt;, Serializable
</code></pre><p>This class models a single instantaneous point on the time-line. Time is one and undivided.</p><p>If you throw even a cursory glance into the past, at the life which lies behind you, not even recalling its most vivid moments, you are struck every time by the singularity of the events in which you took part, the unique individuality of the characters whom you met. This singularity is like the dominant note of every moment of existence; in each moment of life, the life principle itself is unique. To achieve this, the class stores a <code>long</code> representing epoch-seconds and an <code>int</code> representing nanosecond-of-second, which will always be between 0 and 999,999,999.</p><p>Life, constantly moving and changing, allows everyone to interpret and feel each separate moment in his own way; use of identity-sensitive operations (including reference equality (<code>==</code>), identity hash code, or synchronization) on instances of <code>Instant</code> may have unpredictable results and should be avoided.</p><hr><pre><code>public final class Duration
extends Object
implements TemporalAmount, Comparable&lt;Duration&gt;, Serializable
</code></pre><p>A time-based amount of time, such as '34.5 seconds'.</p><p>This class models a quantity or amount of time in terms of seconds and nanoseconds. But I am not thinking of linear time, meaning the possibility of getting something done, performing some action. The action is a result, and what I am considering is the cause which makes man incarnate in a moral sense.</p><p>A physical duration could be of infinite length. The model is of a directed duration, meaning that the duration may be negative. It is not possible to catch the moment at which the positive goes over into its opposite, or when the negative starts moving towards the positive. Infinity is germane, inherent in the very structure.</p><hr><pre><code>public abstract class Clock
extends Object
</code></pre><p>A clock providing access to the current instant, date and time using a time-zone.</p><p>In a certain sense the past is far more real, or at any rate more stable, more resilient than the present. The present slips and vanishes like sand between the fingers, acquiring material weight only in its recollection.</p><p>Best practice for applications is to pass a <code>Clock</code> into any method that requires the current instant.</p><hr><pre><code>public class DateTimeException
extends RuntimeException
</code></pre><p>Time can vanish without trace in our material world for it is a subjective, spiritual category. This exception is used to indicate problems with creating, querying and manipulating date-time objects.</p>]]></content:encoded>
    </item>
    <item>
      <title>A design pattern?</title>
      <link>https://llama-the-ultimate.org/notes/lamb-design-pattern.html</link>
      <description>Datatypes and Church encody stuff with constructing and destructing things.</description>
      <pubDate>Sun, 14 Jan 2018 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/lamb-design-pattern.html</guid>
      <content:encoded><![CDATA[<h1>A design pattern?</h1><p><a href="https://llama-the-ultimate.org/notes/lambs.html">(There's a list with all the lambda notes here.)</a></p><p><a href="https://llama-the-ultimate.org/notes/lamb-succ.html">Previously we made zero and successor:</a></p><pre title="prelude"><code>0 ‚âú Œªf.Œªx.x

S ‚âú Œªn.Œªf.Œªx.f (n f x)
</code></pre><p>Now there are some things. Or maybe this encourages a way of thinking about some things.</p><p>One thing is: We can think that any natural number must necessarily be built from 0 and a series of Ses. (and if want to we can think about the types of things and think that <code>0 : nat</code> and <code>S : nat -&gt; nat</code>)</p><p>Another thing is: A number like this is a function. And that function kind of is the ‚Äúeliminator function‚Äù for that number. An ‚Äúeliminator function‚Äù like this is similar to the foldr-function for lists: We can think of it as a function for doing ‚Äúconstructor replacement.‚Äù</p><p>If we have a number built from <code>S (S 0)</code>, and we wanna replace the <code>S</code>es with <code>foo</code>s and the <code>0</code> with <code>bar</code>, we can apply the number to <code>foo</code> and <code>bar</code>:</p><pre title="repl"><code>(S (S 0)) foo bar
</code></pre><hr><p>Let's say we have the numbers 2 and 3:</p><pre title="repl"><code>S (S 0)

S (S (S 0))
</code></pre><p>Reduced to normal form:</p><pre title="repl"><code>2 ‚âú Œªf.Œªx.f (f x)

3 ‚âú Œªf.Œªx.f (f (f x))
</code></pre><p>And let's say we want to add them together. If we want the sum, we can take the number 2 and do the ‚Äúconstructor replacement‚Äù thing. The number 2 is built from the <code>0</code>-constructor and 2 <code>S</code>-contructors: <code>S (S 0)</code>. We should be able to get sum by taking that number and, keeping all the <code>S</code>es, replacing the 0 with 3: <code>S (S 3)</code>.</p><p>We'll try. Taking the number 2, we replace <code>S</code> with <code>S</code>, which should let us ‚Äúkeep‚Äù all the <code>S</code>es, and we replace 0 with 3:</p><pre title="repl"><code>2 S 3
</code></pre><p>We get 5 :)</p><p>A bit of abstraction and we will have a +-function.</p><pre title="repl"><code>+ ‚âú Œªa.Œªb.a S b

+ 2 3
</code></pre><hr><p>Or maybe we want to multiply 2 by 3.</p><p>This time the idea is that we want to replace things so that we turn the number 2, or <code>S (S 0)</code>, into <code>+ 3 (+ 3 0)</code>. We replace the <code>S</code>es with a function that adds 3 to something, and we replace 0 with 0:</p><pre title="repl"><code>2 (+ 3) 0
</code></pre><p>6!</p><p>Again, abstraction:</p><pre title="repl"><code>* ‚âú Œªa.Œªb.a (+ b) 0

* 2 3
</code></pre><hr><p>(So, uh. In my experience, thinking about these things in terms of constructors and constructor replacement lets me look away from the ‚Äúinner workings‚Äù of the numbers a little bit, and also make the things feel slightly more like working with datatypes in e.g. an ML dialect. It sometimes makes some things clearer to me. But like, we totally did do addition and multiplication earlier, and it‚Äôs not like the functions we did here are very different from those earlier ones. Just a little different.)</p>]]></content:encoded>
    </item>
    <item>
      <title>Successor</title>
      <link>https://llama-the-ultimate.org/notes/lamb-succ.html</link>
      <description>+1</description>
      <pubDate>Fri, 29 Dec 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/lamb-succ.html</guid>
      <content:encoded><![CDATA[<h1>Successor</h1><p><a href="https://llama-the-ultimate.org/notes/lambs.html">(There's a list with all the lambda notes here.)</a></p><p>We have made some numbers and some functions for working with numbers. Also some other datatypes.</p><p>We haven‚Äôt really done so here, but sometimes when we define numbers we fuss more about how they are constructed, about what the constructors are. We say things like: ‚ÄúA natural number is zero or it is the successor of a natural number.‚Äù (In a Standard ML we might say: <code>datatype nat = Zero | Succ of nat</code>)</p><p>We can do something similar but with the lambdas.</p><p>---</p><p>We already know what zero looks like:</p><pre title="repl"><code>0 ‚âú Œªf.Œªx.x
</code></pre><p>We do not know that successor looks like:</p><pre title="repl"><code>S ‚âú Œªn.Œªf.Œªx.f (n f x)
</code></pre><p>It takes a number, <code>n</code>, as its argument. <code>S</code> applied to <code>n</code> should return a number that is one larger than <code>n</code>.</p><p>(Remember: The number <code>n</code> is a function that, if given two arguments, applies the first argument <code>n</code> times to the second.)</p><p>So, <code>S</code> takes a number, <code>n</code>, as its argument, and returns one of those <code>Œªf.Œªx.</code>-functions. Within that function we do <code>n f x</code> (we apply <code>n</code> to <code>f</code> and <code>x</code>). This should amount to applying <code>f</code> ‚Äú<code>n</code> times‚Äù to <code>x</code>. And then we apply <code>f</code> to the result of <code>n f x‚Äù, so that in total </code>f<code> should be applied ‚Äú</code>n<code>+1 times‚Äù to </code>x<code>.</code></p><p>We can test it some and see if it looks right:</p><pre title="repl"><code>S 0

S (S 0)

S (S (S 0))

S (S (S (S (S 0))))
</code></pre><p>And like that‚Äôs it, that‚Äôs our successor. Maybe less impressive than the addition and multiplication functions we did earlier. But it‚Äôs kind of cool:</p><ul><li>We have zero-and-successor constructors. Much like the grown-ups have.</li><li>We can build any natural number with <code>0</code> and <code>S</code>. We have <code>0</code>, and we can throw <code>S</code>es at it until we have the number we really want.</li><li>Related: We kind of don‚Äôt really have to write the <code>Œªf.Œªx.</code>-bit ever again. Unless we want to. If we‚Äôre defining addition and we stick to <code>0</code> and <code>S</code>, we won‚Äôt have to do the <code>Œªf.Œªx.</code>-bit in order to construct the result-number.</li></ul><p>Will take a look at that last ting later.</p>]]></content:encoded>
    </item>
    <item>
      <title>Code Mesh and infinite llamas</title>
      <link>https://llama-the-ultimate.org/notes/mesh17.html</link>
      <description>Y combinator.</description>
      <pubDate>Wed, 08 Nov 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/mesh17.html</guid>
      <content:encoded><![CDATA[<h1>Code Mesh and infinite llamas</h1><p>Kind of a companion post for a Code Mesh talk we did:</p><p><a href="https://llama-the-ultimate.orghttp://www.codemesh.io/codemesh2017/jonas-winje">Infinite Lambda Calculus</a></p><ul><li><a href="https://llama-the-ultimate.orghttps://github.com/Glorp/lambs/tree/mesh17">The code we used for the talk</a></li><li><a href="https://llama-the-ultimate.orghttps://github.com/Glorp/lambs/blob/mesh17/lambs/mesh.txt">The file we ended up with in the talk (it is what it is)</a></li></ul><p><a href="https://llama-the-ultimate.org/notes/lambs.html">Also there are some lambdas over here</a></p><hr><p>Maybe the talk has a main point. Goes like this:</p><ul><li>We wanna get something like infinite, or at least pretty infinite, loops.</li><li>Lambda calculus is Turing complete, but it kind of wasn‚Äôt supposed to be?</li><li>Turing complete things can probably do infinite loops,</li><li>Type systems tend to get rid of like accidental Turing completeness.</li></ul><p>We can come up with a recipe for making a loopy thing:</p><ul><li>Look for a tiny expression that wouldn't typecheck if we had a type system-and-checker (if the type system doesn‚Äôt like an expression, then maybe that expression has something to do with Turing completeness and leads to infinite loops)</li><li>Type checkers sure don‚Äôt like <code>Œªx.x x</code></li><li><code>(Œªx.x x) (Œªx.x x)</code> goes on and on. Maybe for forever.</li><li>Adding e.g. <code>foo</code> like so: <code>(Œªx.x x) (Œªx.foo (x x))</code> will give us as many <code>foo</code>s as we want. Doing a few steps of evaluation will get us <code>foo (foo ((Œªx.foo (x x)) (Œªx.foo (x x))))</code>. If we do more steps we get more <code>foo</code>s.</li><li>We can do this with any <code>f</code>, instead of just with <code>foo</code>, because lambda abstraction: <code>Œªf.(Œªx.x x) (Œªx.f (x x))</code></li><li>One step of evaluation takes us from <code>Œªf.(Œªx.x x) (Œªx.f (x x))</code> to <code>Œªf.(Œªx.f (x x)) (Œªx.f (x x))</code></li></ul><br><p><code>Œªf.(Œªx.f (x x)) (Œªx.f (x x))</code> is the Y combinator :)</p>]]></content:encoded>
    </item>
    <item>
      <title>Something, foldr, sugar</title>
      <link>https://llama-the-ultimate.org/notes/foldr.html</link>
      <description>foldr and constructor replacement.</description>
      <pubDate>Fri, 04 Aug 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/foldr.html</guid>
      <content:encoded><![CDATA[<h1>Something, foldr, sugar</h1><p>I dunno. Does taking away some sugar and infixity make some things more clear?</p><p>Some Standard ML:</p><pre><code>- nonfix +;
nonfix +
- + (1, 2);
val it = 3 : int
- nonfix ::;
nonfix ::
- :: (1, :: (2, :: (3, nil)));
val it = [1,2,3] : int list
- foldr + 0 (:: (1, :: (2, :: (3, nil))));
val it = 6 : int
</code></pre><p>(We removed the infix thing from <code>+</code> and <code>::</code> (the plus function and the list ‚Äúcons‚Äù). They take tupled arguments. Infix <code>1 + 2</code> is nonfix <code>+ (1, 2)</code>, and so on.)</p><p>Here, I guess we can say that</p><pre><code>foldr + 0 (:: (1, :: (2, :: (3, nil))))
</code></pre><p>is kind of equivalent to</p><pre><code>+ (1, + (2, + (3, 0))).
</code></pre><p>And it is maybe more clear how</p><pre><code>+ (1, + (2, + (3, 0)))
</code></pre><p>is similar to the list</p><pre><code>0 (:: (1, :: (2, :: (3, nil)))
</code></pre><p>It is like the list we but with the list constructors, <code>::</code> and <code>nil</code>, replaced with <code>+</code> and <code>0</code> (the first two values we gave to <code>foldr</code>).</p><p>Also maybe unsurprising that</p><pre><code>foldr :: nil (:: (1, :: (2, :: (3, nil))))
</code></pre><p>will be equivalent to</p><pre><code>:: (1, :: (2, :: (3, nil)))
</code></pre><p>and evaluate to a list that looks like the one we started with?</p><hr><p>(At least, more clear than when saying that</p><pre><code>foldr (op +) 0 [1, 2, 3]
</code></pre><p>is equivalent to</p><pre><code>1 + (2 + (3 + 0))?)
</code></pre><hr><p>And also like maybe not I dunno.</p>]]></content:encoded>
    </item>
    <item>
      <title>Pairs</title>
      <link>https://llama-the-ultimate.org/notes/lamb-pairs.html</link>
      <description>It‚Äôs Real Programming if you can make getters.</description>
      <pubDate>Sun, 30 Jul 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/lamb-pairs.html</guid>
      <content:encoded><![CDATA[<h1>Pairs</h1><p><a href="https://llama-the-ultimate.org/notes/lambs.html">(There's a list with all the lambda notes here.)</a></p><p>Prelude. Some things we defined in earlier posts:</p><pre title="prelude"><code>0 ‚âú Œªf.Œªx.x
1 ‚âú Œªf.Œªx.f x
2 ‚âú Œªf.Œªx.f (f x)
+ ‚âú Œªa.Œªb.Œªf.Œªx.a f (b f x)
* ‚âú Œªa.Œªb.b (+ a) 0
</code></pre><p>We wanna make some 2-tuples, or pairs. Pairs are good for building things and we‚Äôre going to need them to build a thing reasonably soon.</p><p>A pair is a ‚Äúfinite ordered list‚Äù of two elements. It‚Äôs a thing with two things. Since it can‚Äôt not be, a pair is going to be a function. The way we‚Äôre going to use a pair is we‚Äôre going to apply it to an argument. And then that argument (another function) must somehow get access to the two elements that the pair is holding on to.</p><p>So: A pair should be a function that, given one function as an argument, gives its two elements to that argument-function. A pair with the elements <code>foo</code> and <code>bar</code>, then, should look like this:</p><pre title="repl"><code>foobarpair ‚âú Œªf.f foo bar
</code></pre><p>If we give the pair an argument, that argument will go in the place of the <code>f</code> in <code>f foo bar</code>, and then <code>foo</code> and <code>bar</code> will be given to it:</p><pre title="repl"><code>foobarpair (Œªa.Œªb.a b quux)
</code></pre><p>That is, <code>Œªa.Œªb.a b quux</code> is given <code>foo</code> and <code>bar</code> as arguments from the <code>foobarpair</code>, so in the body <code>a b quux</code>, <code>a</code> and <code>b</code> are replaced with <code>foo</code> and <code>bar</code>. We can access the elements of a pair by accessing <code>a</code> and <code>b</code> within some <code>Œªa.Œªb.</code>-function that we apply the pair to.</p><p>So it looks like we have a pair that kind of works. We sometimes want other pairs than the ‚Äú<code>foo</code> and <code>bar</code>‚Äù one, so we will build a constructor-function. A constructor for pairs will be a function that takes two arguments, and returns something along the lines of that <code>Œªf.f foo bar</code>-function. Only instead of <code>foo</code> and <code>bar</code>, we should use the two arguments we got.</p><pre title="repl"><code>pair ‚âú Œªa.Œªb.Œªf.f a b

(pair foo bar) (Œªa.Œªb.a b quux)

(pair far boo) (Œªa.Œªb.a b quux)
</code></pre><p>And that‚Äôs really everything we need. But if we want to, for convenience, we can make a couple of ‚Äúgetter‚Äù-functions. We can get the first element of a pair by applying it to a two-argument function that returns its first argument:</p><pre title="repl"><code>foobarpair (Œªa.Œªb.a)
</code></pre><p>We will make a <code>fst</code>-function that will do that, but with some pair given as an argument instead of with the <code>foobarpair</code>. And a <code>snd</code>-function that does the same as <code>fst</code>, only it will use a function that returns its second argument.</p><pre title="repl"><code>fst ‚âú Œªp.p (Œªa.Œªb.a)
snd ‚âú Œªp.p (Œªa.Œªb.b)

fst foobarpair

snd foobarpair
</code></pre><p>Now we can do useful things. We can make a function that takes a number as an argument and like, doubles the number and squares the number, and returns a pair with the two result-numbers. And a function that takes a pair of numbers and adds those two numbers together.</p><pre title="repl"><code>useful-thing1 ‚âú Œªn.pair (+ n n) (* n n)
useful-thing2 ‚âú Œªp.+ (fst p) (snd p)
compose ‚âú Œªf.Œªg.Œªx.f (g x)
useful-things ‚âú compose useful-thing2 useful-thing1

useful-things (+ 1 2)
</code></pre><p>Woop.</p>]]></content:encoded>
    </item>
    <item>
      <title>Some booly functions</title>
      <link>https://llama-the-ultimate.org/notes/lamb-bools.html</link>
      <description>Business logic!</description>
      <pubDate>Thu, 27 Jul 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/lamb-bools.html</guid>
      <content:encoded><![CDATA[<h1>Some booly functions</h1><p><a href="https://llama-the-ultimate.org/notes/lambs.html">(There's a list with all the lambda notes here.)</a></p><p>Bit of prelude first.</p><p><a href="https://llama-the-ultimate.org/notes/lamb-nums.html">Some stuff from an earlier numbery post:</a></p><pre title="prelude"><code>0 ‚âú Œªf.Œªx.x
1 ‚âú Œªf.Œªx.f x
2 ‚âú Œªf.Œªx.f (f x)
5 ‚âú Œªf.Œªx.f (f (f (f (f x))))
+ ‚âú Œªa.Œªb.Œªf.Œªx.a f (b f x)
</code></pre><p>(And in the earlier post we said something like: The number n is a function that, if given two arguments, applies the first argument n times to the second. The +-function takes the numbers <code>a</code> and <code>b</code> as arguments and gives back a new <code>Œªf.Œªx.</code>-function that applies <code>f</code> ‚Äú<code>a</code> times‚Äù to the result of applying <code>f</code> ‚Äú<code>b</code> times‚Äù to <code>x</code>.)</p><p>We can do multiplication as well before moving on. Multiplication is like addition, just more. We will make a function that, if given the numbers <code>a</code> and <code>b</code> as arguments will start with the number zero, and add <code>a</code> ‚Äú<code>b</code> times‚Äù to it:</p><pre title="repl"><code>* ‚âú Œªa.Œªb.b (+ a) 0

* 5 2
</code></pre><hr><p>Soo. We have several numbers and also a couple of ways to make more numbers. So we pretty much have business: We can decide that one of the numbers is the number of monies and another one is the number of products. If we also have booleans we can do business logic.</p><p>Booleans are used for if-then-else. We have a stuff we maybe wanna do and another stuff we maybe wanna do instead, and we use a boolean to pick one of the stuffs. So, we would like to have a true-value and a false-value, and we wanna set things up so that something like <code>if true stuff otherstuff</code> will evaluate to <code>stuff</code>, and something like <code>if false stuff otherstuff</code> will evalute to <code>otherstuff</code>.</p><p>We will make the two boolean values be functions. (A reasonably easy choice, so long as we can only make functions in our language.) <code>true</code> will, if given two arguments, return the first one. <code>false</code>, if given two arguments, will return the second one.</p><pre title="repl"><code>true ‚âú Œªa.Œªb.a
false ‚âú Œªa.Œªb.b

true stuff otherstuff

false stuff otherstuff
</code></pre><p>Okay so it looks like <code>true stuff otherstuff</code> evaluates to <code>stuff</code> just fine on its own, and <code>false stuff otherstuff</code> evaluates to <code>otherstuff</code>, and we don‚Äôt really need <code>if</code>. But if we want an <code>if</code> we can have one. It can take a boolean as its first argument and then two more arguments, and then just hand those two last arguments over to the boolean.</p><pre title="repl"><code>if ‚âú Œªb.Œªt.Œªe.b t e

if true stuff otherstuff

if false stuff otherstuff
</code></pre><p>Should get same results as with just the booleans. (If we want to, we can redefine <code>if</code> to be the identity function, <code>Œªx.x</code>. Will work fine.)</p><hr><p>Okay, some boolean logic bits:</p><ul><li><code>not</code> takes one boolean, <code>b</code>. If <code>b</code> is <code>true</code>, we return <code>false</code>. If <code>b</code> is <code>false</code>, we return <code>true</code>.</li><li><code>and</code> takes two booleans, <code>a</code> and <code>b</code>. If <code>a</code> is <code>true</code>, we return <code>b</code>. If <code>a</code> is <code>false</code>, we return <code>false</code>.</li><li><code>or</code> takes two booleans, <code>a</code> and <code>b</code>. If <code>a</code> is <code>true</code>, we return <code>true</code>. If <code>a</code> is <code>false</code>, we return <code>b</code>.</li></ul><pre title="repl"><code>not ‚âú Œªb.if b false true
and ‚âú Œªa.Œªb.if a b false
or ‚âú Œªa.Œªb.if a true b

if (and (or true false) (not false)) stuff otherstuff
</code></pre><p>We‚Äôll do some boolean stuff with numbers. We can check if a number is zero by giving it two arguments. The first argument is a function that always returns false: <code>Œª_.false</code>. If the number is not zero this function will be applied to something and we‚Äôll get <code>false</code> back. The second argument is <code>true</code>. If the number is zero this <code>true</code> will be returned, without any applying of the <code>Œª_.false</code> function.</p><pre title="repl"><code>zero? ‚âú Œªn.n (Œª_.false) true

zero? 0

zero? 2
</code></pre><p>Good. Now we can do everyday business logic things. Like you know when boss is like hey we need a program that checks if the number of monies times the number of products is zero and if it is zero we should add five to the number of monies and if it is not zero we should multiply the number of products by 2. No problem:</p><pre title="repl"><code>do-business ‚âú Œªmonies.Œªproducts.if (zero? (* monies products)) (+ 2 monies) (* 2 products)

do-business 2 5

do-business 2 0
</code></pre><p>That‚Äôs a lot of business.</p><hr><p>(Oh. If we cared about side effects or performance or something, we could worry about stuff like: Will the else-stuff be evaluated even if the boolean is true and we really only want the then-stuff? We don‚Äôt really care, since it‚Äôs going to correctly return the stuff we want either way. But if we cared: We‚Äôre evaluating things in normal order, and will give the then-stuff and the else-stuff to the boolean first, before we ‚Äústep into‚Äù any of the then-stuff or else-stuff. So in the case of true the else-stuff will disappear before we do anything with it.)</p>]]></content:encoded>
    </item>
    <item>
      <title>What do the lambdas?</title>
      <link>https://llama-the-ultimate.org/notes/lamb-what.html</link>
      <description>Some lambda calculus syntax and semantics.</description>
      <pubDate>Mon, 24 Jul 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/lamb-what.html</guid>
      <content:encoded><![CDATA[<h1>What do the lambdas?</h1><p><a href="https://llama-the-ultimate.org/notes/lambs.html">(There's a list with all the lambda notes here.)</a></p><p>An expression is one of the following:</p><ul><li><code>&lt;identifier&gt;</code> (variable reference)</li><li><code>Œª&lt;identifier&gt;.&lt;exp&gt;</code> (function abstraction, but sometimes we‚Äôll just call it a lambda)</li><li><code>&lt;exp&gt; &lt;exp&gt;</code> (function application)</li></ul><p>Is like tree. Variable references are leaves. Function application branches into two sub-trees, one for function and one for argument.</p><p>Function application is left associative. So <code>a b c</code> and <code>(a b) c</code> works out the same.</p><p>For example, can take a look at expression <code>(Œªa.a (foo a)) bar</code> and its sub-expressions:</p><ul><li><code>(Œªa.a (foo a)) bar</code> is a function application with a function <code>(Œªa.a (foo a))</code> and an argument <code>bar</code></li><li><code>Œªa.a (foo a)</code> is a function abstraction with a parameter <code>x</code> and a body <code>a (foo a)</code></li><li><code>a (foo a)</code> is a function application with a function <code>a</code> and argument <code>foo a</code></li><li><code>foo a</code> is a function application with a function <code>foo</code> and argument <code>a</code></li></ul><p><img src="https://llama-the-ultimate.org/assets/lambdatree.svg" alt="An expression tree for (Œªa.a (foo a)) bar"></p><p>(So really, syntax is mostly like in an ML family language or a Haskell or something. Only instead of like, <code>fn x =&gt; foo</code> or <code>fun x -&gt; foo</code> or <code>x -&gt; foo</code>), we do <code>Œªx.foo</code>. Andalso there‚Äôs never any infix stuff for function application.)</p><hr><p>Evaluation is mostly: <code>(Œªùê±.ùêÅ) ùêÄ ‚ü∂ [ùêÄ/ùê±]ùêÅ</code>.</p><p>Meaning something like, a ‚Äúreducible expression‚Äù (the bit to the left of the arrow) is:</p><ul><li>a function application</li><li>with a function-part that is a function abstraction, with some identifier <code>ùê±</code> as its parameter and some expression <code>ùêÅ</code> as its body</li><li>and with an argument-part that is some expression <code>ùêÄ</code></li></ul><p>And if we have a reducible expression, then we can do ‚Äúbeta reduction‚Äù: Substitute the argument <code>ùêÄ</code> for every free occurence of the parameter <code>ùê±</code> in the body <code>ùêÅ</code>, and replace the whole function application with the result of that.</p><p>(The part that goes <code>[ùêÄ/ùê±]ùêÅ</code> means that substitution thing: <code>ùêÅ</code> but with every free <code>x</code> replaced with <code>ùêÄ</code>. So <code>(Œªùê±.ùêÅ) ùêÄ ‚ü∂ [ùêÄ/ùê±]ùêÅ</code> is a bit like a pattern match on the syntax of an expression. The expression to the left of the arrow binds the variables <code>ùê±</code> and <code>ùêÅ</code> and <code>ùêÄ</code>, and the expression to the right uses them.)</p><p>Can try. With the expression <code>(Œªz.z bar) foo</code>, the parameter <code>ùê±</code> is <code>z</code>, the body <code>ùêÅ</code> is <code>z bar</code>, and the argument <code>ùêÄ</code> is <code>foo</code>. So for this ‚Äúinstance‚Äù of <code>(Œªùê±.ùêÅ) ùêÄ ‚ü∂ [ùêÄ/ùê±]ùêÅ</code> we get <code>(Œªz.z bar) foo ‚ü∂ [foo/z]z bar</code>. It should evaluate to the body <code>z bar</code> with every free <code>z</code> replaced by the argument <code>foo</code>: <code>foo bar</code>.</p><pre title="repl"><code>(Œªz.z bar) foo
</code></pre><p>A variable reference is free if it is not bound by a parameter in a function abstraction. With the expression <code>(Œªz.z (Œªz.bar z) bar) foo</code>, the parameter <code>ùê±</code> is <code>z</code>, the body <code>ùêÅ</code> is <code>z (Œªz.bar z) bar</code>, and the argument <code>ùêÄ</code> is <code>foo</code>. Here, only the first <code>z</code> in the body <code>z (Œªz.bar z) bar</code> is free, so only that one is replaced with <code>foo</code>.</p><pre title="repl"><code>(Œªz.z (Œªz.bar z) bar) foo
</code></pre><p>(In maybe more programmy jargon, we could maybe say that the inner <code>z</code> shadows the outer.)</p><p>Sometimes we have to change the names of some variables before doing beta reduction, in order to avoid having ‚Äúvariable capture‚Äù change the meaning of our expression. With the expression <code>(Œªx.Œªy.y x) y</code>, the parameter <code>ùê±</code> is <code>x</code>, the body <code>ùêÅ</code> is <code>Œªy.y x</code>, and the argument <code>ùêÄ</code> is <code>y</code>. If we just replace the <code>x</code> in <code>Œªy.y x</code> with y, we get <code>Œªy.y y</code>. Our argument-y becomes bound (‚Äúcaptured‚Äù) by the parameter of the lambda within the body. Since we should be able to keep referring the outer <code>y</code>, we change the name of the parameter of the lambda (and all references to it) before we do beta reduction. (ctrl+enter two times, since the first one will just rename the parameter)</p><pre title="repl"><code>(Œªx.Œªy.y x) y
</code></pre><hr><p>That‚Äôs mostly it. We:</p><ul><li>look through our expression-tree in some order</li><li>maybe find a reducible expression</li><li>rename things if necessary</li><li>and do the substitution thing</li></ul><p>The order we look through the expression-tree is ‚Äúnormal order‚Äù. We check the outermost expression first, and then the function-parts of applications before the argument-parts. If we can‚Äôt find any reducible expression, then the expression is on ‚Äúnormal form‚Äù.</p><p>Typically we want to evaluate something down to normal form. So we run through those steps over and over until it is. (If we‚Äôre unlucky that takes actually forever. But that‚Äôs kind of fun too.)</p><p>Can do (ctrl+shift+enter) to evaluate the following until it‚Äôs on normal form:</p><pre title="repl"><code>(Œªz.z foo) (Œªx.Œªy.x bar y) quux
</code></pre>]]></content:encoded>
    </item>
    <item>
      <title>How do the lambdas?</title>
      <link>https://llama-the-ultimate.org/notes/lamb-how.html</link>
      <description>How to lambda on blog?</description>
      <pubDate>Wed, 12 Jul 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/lamb-how.html</guid>
      <content:encoded><![CDATA[<h1>How do the lambdas?</h1><p><a href="https://llama-the-ultimate.org/notes/lambs.html">(There's a list with all the lambda notes here.)</a></p><p>Assuming you're viewing this in a web browser with JavaScript and so on...</p><p>Some editors are readonly. Its content is evaluated when page loads or so. Mostly for adding definitions to toplevel so they can be used later in the post:</p><pre title="prelude"><code>id ‚âú Œªx.x
0 ‚âú Œªf.Œªx.x
œâ ‚âú Œªx.x x
</code></pre><hr><p>In the regular editors we can do stuff.</p><pre title="repl"><code>(can do stuff here)
</code></pre><p>Normal text-editor-stuff should work. Also:</p><ul><li>ctrl+l inserts a <code>Œª</code> (or you can use <code>` instead of </code>Œª<code>)</code></li><li>ctrl+d inserts a <code>‚âú</code> (or you can use <code>:=</code> instead of <code>‚âú</code>)</li><li>ctrl+enter is used to add a definition to toplevel, or remove a definition, or do one step of evaluation</li><li>ctrl+shift+enter is used to do a bunch of evaluation (stops when the term is on normal form, or after a thousand steps of evaluation)</li><li>ctrl+r is used to replace the names used in toplevel definitions with terms from the definitions</li></ul><p>ctrl+enter, ctrl+shift+enter and ctrl+r all work on the line the cursor is on. Results are printed on new line(s), after. (And the cursor moves to end of result.)</p><hr><p>So, normally, if we have written some term that uses some of the toplevel defintions, we do ctrl+r and then either ctrl+enter a few times, or ctrl+shift+enter once.</p><pre title="repl"><code>(Œªa.Œªb.b a) 0 œâ 0
</code></pre><p>Lines with <code>‚âú</code> (or <code>:=</code> are for definitons). ctrl+enter on a line that goes like &lt;identifier&gt; ‚âú &lt;term&gt; adds a definition.</p><pre title="repl"><code>S ‚âú Œªn.Œªf.Œªx.f (n f x)
</code></pre><p>(Most characters can be used in identifiers. But not whitespace ones, and not the ones that are used for other stuff: <code>:</code>, <code>`, </code>‚âú<code>, </code>Œª<code>, </code>.<code>, </code>(<code>, </code>)<code>.)</code></p><p>The terms used in definitions can use the names of definitions that already exist. We can define <code>2</code> like this now, as long as we have defined <code>0</code> and <code>S</code> first: (ctrl+enter)</p><pre title="repl"><code>2 ‚âú S (S 0)
</code></pre><p>(We can evaluate it to check that the result looks reasonably twoish. Two applications of f is very two-like, so the result should look like <code>Œªf.Œªx.f (f x)</code>. (ctrl+r, then ctrl+shift+enter))</p><pre title="repl"><code>2
</code></pre><p>If we wanna get rid of a definition we can do <code>&lt;identifier&gt; ‚âú :(</code>, or just <code>&lt;identifier&gt; ‚âú</code>. We‚Äôll remove <code>œâ</code> (it‚Äôs scary): (ctrl+enter)</p><pre title="repl"><code>œâ ‚âú :(
</code></pre><p>If we try to evaluate the thing we did earler, we won‚Äôt get the same result now, since <code>œâ</code> will just be treated as some free variable... (ctrl+r, then ctrl+shift+enter)</p><pre title="repl"><code>(Œªa.Œªb.b a) 0 œâ 0
</code></pre><hr><p>That‚Äôs more or less it. In posts like this it‚Äôs mostly enough to do ctrl+enter on definitions, and ctrl+r and then ctrl+shift+enter on other stuff...</p>]]></content:encoded>
    </item>
    <item>
      <title>Some numbery functions</title>
      <link>https://llama-the-ultimate.org/notes/lamb-nums.html</link>
      <description>Some lambda calculus.</description>
      <pubDate>Thu, 06 Jul 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/lamb-nums.html</guid>
      <content:encoded><![CDATA[<h1>Some numbery functions</h1><p><a href="https://llama-the-ultimate.org/notes/lambs.html">(There's a list with all the lambda notes here.)</a></p><p>Somewhat a test-post, for having not-dead lambda calculus within a post. If you're viewing this in a web browser and it runs the JavaScript and so on, it should be interactive.</p><p><a href="https://llama-the-ultimate.org/lambdas.html">(There‚Äôs also kind of a lambda playground over here.)</a></p><p>To try, put cursor on line below and do ctrl+enter couple of times:</p><pre title="repl"><code>(Œªx.Œªy.y x) bar foo
</code></pre><p>If it works (if the ctrl+enter-business leads to a line that goes <code>foo bar</code>), we can make a few numbers... (ctrl+enter each line).</p><pre title="repl"><code>0 ‚âú Œªf.Œªx.x
1 ‚âú Œªf.Œªx.f x
2 ‚âú Œªf.Œªx.f (f x)
5 ‚âú Œªf.Œªx.f (f (f (f (f x))))
</code></pre><p>The idea, or at least one way to look at it, is that the number five is the function that does something five times. So, if we want to <code>foo</code> a <code>bar</code> five times, then we can... (ctrl+r to replace <code>5</code> with the lambdas from the definition we did above. Then ctrl+enter a couple of times.)</p><pre title="repl"><code>5 foo bar
</code></pre><p>Which maybe evaluated to <code>foo (foo (foo (foo (foo bar))))</code>. Five <code>foo</code>s.</p><p>Okay. Addition is pretty numbery. Below is a function that takes arguments <code>a</code> and <code>b</code>, and gives back, uh, a <code>Œªf.Œªx.</code>-function. This function applies <code>f</code> to <code>x</code> and it will do that ‚Äú<code>b</code> times.‚Äù And it will apply <code>f</code> to the result of that ‚Äú<code>a</code> times.‚Äù Hopefully that amounts to <code>f</code> being applied  ‚Äú<code>a</code> + <code>b</code> times‚Äù to <code>x</code> (ctrl+enter on line below)</p><pre title="repl"><code>+ ‚âú Œªa.Œªb.Œªf.Œªx.a f (b f x)
</code></pre><p>If things seem fine so far, we can try to use it. ctrl+r on line below to replace the names of the things we‚Äôve defined with their lambdas. Then ctrl+enter a bunch of times to evaluate. (Or ctrl+shift+enter one time.)</p><pre title="repl"><code>5 (+ 5 2)
</code></pre><p>It‚Äôs maybe twelve! (Hopefully.)</p>]]></content:encoded>
    </item>
    <item>
      <title>Solving a number problem using idiomatic LISP</title>
      <link>https://llama-the-ultimate.org/notes/LISP-forty-two.html</link>
      <description>Lisp! Parentheses!</description>
      <pubDate>Sun, 26 Mar 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/LISP-forty-two.html</guid>
      <content:encoded><![CDATA[<h1>Solving a number problem using idiomatic LISP</h1><p>Hi okay one time I ran into a number problem that went something like this: ‚ÄúHow many (natural) numbers less than or equal to one million are there whose digits add up to forty-two?‚Äù</p><p>Okay let‚Äôs solve this using Racket. Racket is a maybe a LISP. In LISP, pretty much the only thing that matters is you have to use parentheses.</p><blockquote>Parentheses essentially are the basis of computation.</blockquote><p><a href="https://llama-the-ultimate.orghttps://www.youtube.com/watch?v=OubXOd0Twl4">‚ÄïRobert Constable, 8 minutes or so into this OPLSS 2015 lecture</a></p><p>Anyway we can stare at this problem for a while and then notice three things.</p><ul><li>One thing is that the digits in one million do not add up to forty-two.</li><li>Another thing is that the numbers less than one million all have six digits (or they might as well have, and can be padded with leading zeroes).</li><li>Anothother thing is that forty-two divided by six equals seven.</li></ul><p>So. We only need to care about numbers that have six digits, and if every digit is seven they add up to forty-two. More, if the digits in a number are ‚Äúbalanced around seven‚Äù they also add up to forty-two. (A six can be made up for by an eight, a three by two nines, and so on.)</p><p>Okay so that‚Äôs extremely good to know. We pretty much just wanna balance stuff. And parentheses are like incredibly good things to balance.</p><hr><p>Racket comes with a read-procedure. read reads an expression from something, and it makes sure parentheses are balanced. Problem solved, then, more or less...</p><pre><code>#lang racket
</code></pre><p>We need some halp. <code>read-string</code> will <code>read</code> a string until its end. If any parentheses are out of balance, read will throw and the <code>with-handlers-bit</code> will catch and make it so that we return the number zero. Otherwise one.</p><pre><code>(define (read-string s)
  (with-handlers
      ([(Œª (_) #t) (Œª (_) 0)])
    (define in (open-input-string s))
    (let loop ()
      (unless (eof-object? (read in))
        (loop)))
    1))
</code></pre><p>Woop woop. We can use <code>read-string</code> to kind of check if a string has balanced parentheses. If we can turn numbers into strings, so that a string only has balanced parentheses in it if the digits in the number add up to forty-two, then stuff.</p><p><code>number-&gt;chars</code> will turn a number into a list of characters, maybe padded with some zeroes:</p><pre><code>(define (number-&gt;chars n)
  (string-&gt;list (~a n
                    #:min-width 6
                    #:pad-string &quot;0&quot;)))
</code></pre><p>Now we can have one character for every digit in a number. We make a <code>char-&gt;string</code>-function that will turn a character like that into a string. The string will have parentheses that are just as much balanced as the digit was balanced around seven:</p><pre><code>(define (char-&gt;string c)
  (match c
    [#\0 &quot;(((((((&quot;]
    [#\1 &quot;((((((&quot;]
    [#\2 &quot;(((((&quot;]
    [#\3 &quot;((((&quot;]
    [#\4 &quot;(((&quot;]
    [#\5 &quot;((&quot;]
    [#\6 &quot;(&quot;]
    [#\8 &quot;)&quot;]
    [#\9 &quot;))&quot;]
    [_ &quot;horses&quot;]))
</code></pre><p>So, in order to turn a number into a good string, we use <code>number-&gt;chars</code>, then <code>char-&gt;string</code> each digit-character. And then adjust as necessary: We will sort the characters in the string so that any left parentheses come before any right parentheses. <code>number-&gt;string</code> does:</p><pre><code>(define (number-&gt;string n)
  (define char-list
    (map char-&gt;string (number-&gt;chars n)))

  (list-&gt;string
   (sort (append* (map string-&gt;list char-list))
         char&lt;?)))
</code></pre><p>Now all that remains is to pick the numbers we care about, then feed to <code>read-string</code> the strings we get by applying <code>number-&gt;string</code>. <code>read-string</code> should return one if things are balanced and zero if not, so if we add together all those zeroes and ones we‚Äôre good.</p><pre><code>(for/sum ([n (in-range 1000000)])
  (read-string (number-&gt;string n)))
</code></pre><p>You can get the full program at blah. Put it into your DrRacket, press F5 or so, and voi‚Äîsome 20 seconds wait‚Äîl√†, you will have an answer.</p>]]></content:encoded>
    </item>
    <item>
      <title>Llama the ultimate object</title>
      <link>https://llama-the-ultimate.org/notes/ltuo.html</link>
      <description>If it looks like an object, walks like an object, and spits you in the face like an object, then it probably</description>
      <pubDate>Tue, 24 Jan 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/ltuo.html</guid>
      <content:encoded><![CDATA[<h1>Llama the ultimate object</h1><p>It does extend animal.</p>]]></content:encoded>
    </item>
    <item>
      <title>Exceptions are for exceptions</title>
      <link>https://llama-the-ultimate.org/notes/exceptions.html</link>
      <description>beep boop bap</description>
      <pubDate>Mon, 02 Jan 2017 00:00:00 GMT</pubDate>
      <guid>https://llama-the-ultimate.org/notes/exceptions.html</guid>
      <content:encoded><![CDATA[<h1>Exceptions are for exceptions</h1><p>If you have like an <code>A -&gt; B</code>, then you can usually count on getting a <code>B</code> back if you pass in an <code>A</code>. In this or that language, there may be exceptions to this. For example, an exception would be an exception.</p>]]></content:encoded>
    </item>
  </channel>
</rss>
