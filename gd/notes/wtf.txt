# How and when and under which circumstances is WTF?
:blurb I dunno it’s just sometimes it’s a bit “lol wtf the computer did the thing we told it to do.”

This has come up a couple of times: In JavaScript, `parseInt(0.0000005)` gives `5`:
* The argument to `parseInt` “should” be a string, but if you send something else it’s converted to a string.
* Scientific notation because smol number.
* If a string doesn’t look very integery, like if it has a bunch of letters in it or something, `parseInt` still returns a number if the _beginning_ of the string looks like an integer.
* The beginning of `"5e-7"` looks like 5.

I think a lot of what’s going on is similar to many other WTFs and that it’s kind of at the same level of WTF as a fair amount of other ones. In my mind the main “weakness” here is that `parseInt` tries _so hard_ to return a number. It’s mostly the “type coercion” but also the bit where it ignores the rest of the string because the beginning looks like an integer. It’s part of that JS territory that feels a little DWIM/evil genie.

I might be mistaken about this but, having seen it presented and reacted to a couple of times, my impression is that it works better as a WTF if you’re kind of fine with the DWIMy bits, but are surprised that it didn’t return a different number. Because you clearly meant zero, right? You entered a number that’s really close to zero and also the number literal looks a lot like the string literal `"0.0000005"` and `parseInt("0.0000005")` _does_ give you `0`.

If you think that `parseInt(<something that is not a string>)` seems a little off to begin with, then maybe you expect `NaN` or an exception. And then it’s more like, oh, looks like it parsed _something_. You might not like that, but _which particular number_ you get back is less interesting. If you chuck arbitrary non-string values at a string-parsing function it’s not _that_ surprising that you don’t get back whichever number you had in mind. I mean the scientific notation bit can still be surprising but I dunno, maybe not WTF-surprising.

Maybe something like: With some of these WTFs it kind of seems like it’s a lot more WTF if you expect JS do to _more_ magic and guess your intent more accurately.

(In some sense getting `5` back could be like, good, or at least better than `0`. Like if you’ve been using `parseInt` as a general “this, but an integer”-function, then that `5` might make you go look for a better way.)

=> url http://www.phpsadness.com/sad/47 Anyway there is actual gleefully unhinged stuff out there, like converting _both_ the strings you’re comparing to numbers.
